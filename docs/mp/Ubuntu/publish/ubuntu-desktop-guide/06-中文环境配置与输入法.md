# 06. 中文环境配置与输入法

![封面图](../../imgs/ubuntu-desktop-guide-06-cover.svg)

装系统时选了中文，不等于“中文体验就到位了”。这一章把三件事一次解决：语言包补齐、输入法框架选型、字体兼容。

## 1. 完善中文语言包

有时候安装过程没有联网，语言包可能下载不全。
1.  打开 "Settings" -> "System" -> "Region & Language"。
2.  点击 "Manage Installed Languages"。
3.  系统会自动检查语言支持，如果提示 "The language support files for your selected language are not completely installed"，点击 "Install" 进行补全。
4.  确保 "Keyboard input method system" 选择的是 `IBus` (默认) 或 `Fcitx 5` (推荐)。

## 2. 方案一：使用默认的 IBus (简单)

Ubuntu 默认使用 IBus 框架的 "智能拼音" (Intelligent Pinyin)。
1.  设置 -> 键盘 -> Input Sources (输入源)。
2.  点击 "+" 号。
3.  点击 "Chinese" (中文)。
4.  选择 "Chinese (Intelligent Pinyin)" 并添加。
5.  **切换快捷键**: `Super + Space`。

*缺点：词库较小，联想功能一般。*

## 3. 方案二：安装 Fcitx 5 (强烈推荐)

Fcitx 5 是目前 Linux 下体验最好、皮肤最丰富、扩展性最强的输入法框架。

### 安装步骤：
1.  **安装核心组件**:
    打开终端，运行：
    ```bash
    sudo apt install fcitx5 fcitx5-chinese-addons fcitx5-frontend-gtk4 fcitx5-frontend-gtk3 fcitx5-frontend-qt5 kde-config-fcitx5
    ```
2.  **设置 Fcitx 5 为默认**:
    打开 "Language Support" (语言支持)，将 "Keyboard input method system" 改为 `Fcitx 5`。
3.  **注销或重启电脑**。
4.  **配置输入法**:
    *   重启后，在右上角应该能看到一个小键盘图标。
    *   右键点击 -> "Configure" (配置)。
    *   在右侧列表中找到 "Pinyin" (拼音)，如果没有，取消勾选 "Only Show Current Language"，搜索 "Pinyin" 并添加。
    *   通常保留 "Keyboard - English (US)" 和 "Pinyin" 两个即可。
    *   **切换快捷键**: 默认为 `Ctrl + Space`，也可自行修改。

### 搜狗输入法 vs Fcitx 5
搜狗 Linux 版长期基于 Fcitx 4，依赖比较旧，稳定性也看环境。现在更稳的路子通常是：**Fcitx 5 + 拼音 + 合适的词库**，体验能做到“够快、够稳、够可控”。

## 4. 解决常见字体显示问题

有些 Windows 字体（如微软雅黑、宋体）是有版权的，Ubuntu 不能预装，导致打开 Windows 文档时排版错乱或显示方框。

**解决方法：**
1.  **复制字体**: 从 Windows 的 `C:\Windows\Fonts` 目录下复制需要的字体文件 (`.ttf` 或 `.otf`)。
2.  **安装字体**:
    *   双击字体文件，点击 "Install"。
    *   或者将字体文件放入 `~/.local/share/fonts` 文件夹（如果没有就新建一个）。
3.  **刷新缓存**:
    ```bash
    fc-cache -fv
    ```

## 5. 常见问题速查

### 输入法图标不出现 / 切换没反应

1. 再确认一次：语言支持里是不是已经选了 `Fcitx 5`
2. 注销后再登录（很多时候重启不是必须，但注销几乎必需）
3. 右上角没有图标时，先试着在终端启动：

```bash
fcitx5 -r
```

### 在某些软件里打不了中文

少数应用对输入法框架支持不一致，优先更新软件版本；如果是浏览器/IDE 之类，通常装齐前端组件后会明显改善（上一节安装命令里已经包含 GTK/Qt 前端）。

现在，你的 Ubuntu 应该已经可以顺畅输入中文、显示中文、打开常见文档不再“满屏方块”。
