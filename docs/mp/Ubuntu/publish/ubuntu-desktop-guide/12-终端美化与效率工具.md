# 12. 终端美化与效率工具

默认终端已经能用，但很多“省时间的小细节”还没打开：更聪明的补全、更友好的提示、更顺手的历史搜索。这一章用一套尽量稳的配置，把终端改到“长期用也不烦”的状态。

## 1. 安装 Zsh

Zsh 是 Bash 的增强版，支持更强大的自动补全和插件。

1.  **安装 Zsh**:
    ```bash
    sudo apt install zsh
    ```
2.  **验证安装**:
    ```bash
    zsh --version
    ```
3.  **设置为默认 Shell**:
    ```bash
    chsh -s $(which zsh)
    ```
    *注意：输入密码后可能需要注销并重新登录才能生效。*

## 2. 安装 Oh My Zsh

Oh My Zsh 是一个管理 Zsh 配置的框架，它让配置 Zsh 变得极其简单。

建议在安装前先备份一下你的配置文件（如果你已经有 `~/.zshrc`）：

```bash
cp ~/.zshrc ~/.zshrc.bak 2>/dev/null || true
```

**安装命令** (需要先安装 `curl` 和 `git`):
```bash
sudo apt install curl git
sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
```

安装完成后，你会发现终端提示符变了，而且颜色也变漂亮了。

## 3. 更换主题 (Themes)

Oh My Zsh 自带了上百个主题。
1.  **编辑配置文件**:
    ```bash
    nano ~/.zshrc
    ```
2.  **修改主题**:
    找到 `ZSH_THEME="robbyrussell"` 这一行。
    *   推荐主题 1: `ys` (简洁清晰，显示用户名、路径、Git 分支)。
    *   推荐主题 2: `agnoster` (极其酷炫，需要安装 Powerline 字体)。
    修改为：`ZSH_THEME="ys"`
3.  **生效配置**:
    ```bash
    source ~/.zshrc
    ```

## 4. 必备插件 (Plugins)

插件是 Zsh 的灵魂。

插件不是越多越好。常用的就那么几个：输入建议、语法高亮、快速跳转。能稳定跑一年，比“看起来很炫”更重要。

### A. zsh-autosuggestions (自动建议)
当你输入命令时，它会根据历史记录自动建议后续内容（灰色显示），按右箭头键即可补全。
1.  **下载**:
    ```bash
    git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
    ```

### B. zsh-syntax-highlighting (语法高亮)
命令输对了是绿色，输错了是红色，一眼便知。
1.  **下载**:
    ```bash
    git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting
    ```

### C. 启用插件
1.  打开 `~/.zshrc`。
2.  找到 `plugins=(git)` 这一行。
3.  修改为：
    ```bash
    plugins=(
        git
        zsh-autosuggestions
        zsh-syntax-highlighting
        extract  # 这是一个解压神器，x filename 即可解压任何格式
        z        # 快速跳转目录，z 目录名 即可跳转
    )
    ```
4.  运行 `source ~/.zshrc` 生效。

## 5. Tmux：终端复用神器

如果你经常需要在一个窗口里运行多个任务，或者通过 SSH 远程工作，Tmux 是必装的。
*   **功能**: 允许你在一个终端窗口中分割出多个窗格 (Pane)，或者在后台运行会话 (Session) 防止断网导致任务中断。
*   **安装**: `sudo apt install tmux`

配置好这些，你的终端不仅看起来专业，工作效率也会提升一个量级。
